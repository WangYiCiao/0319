<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p>title</p>


<dialog open>show msg</dialog>
<label for="file">Downloading progress:</label>
<progress id="file" value="100" max="100"></progress>

<script>
    let isTimerRunning = false; // 監控計時器是否正在運行

    document.getElementById('loadButton').addEventListener('click', function() {
        if (isTimerRunning) return; // 如果計時器正在運行，則不新增計時器

        isTimerRunning = true;
        const dialog = document.getElementById('timerDialog');
        const progress = document.getElementById('progress');
        const progressValue = document.getElementById('progressValue');

        dialog.showModal(); // 顯示對話框

        let value = 0;

        const timer = setInterval(function() {
            value++;
            progress.value = value;
            progressValue.textContent = value;

            if (value >= 100) {
                clearInterval(timer);
                isTimerRunning = false; // 計時器結束後，標記計時器停止
                dialog.close(); // 關閉對話框
            }
        }, 10); // 每10毫秒遞增
    });
</script>

</body>
</html>
